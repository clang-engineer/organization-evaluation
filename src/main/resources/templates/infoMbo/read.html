<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{/layout/layoutTurn}">

<div layout:fragment="content">
	<div class="container-fluid">
		<!-- Breadcrumbs-->
		<ol class="breadcrumb">
			<li class="breadcrumb-item">
				<a th:href="@{index(tno=${tno})}">Dashboard</a>
			</li>
			<li class="breadcrumb-item active">Blank Page</li>
		</ol>

		<!-- Page Content -->
		<hr>
		<p>This is a great starting point for new custom pages.</p>


		<!-- DataTales Example -->
		<div class="card shadow mb-4">
			<div class="card-body">
				<fieldset disabled>

					<input type="hidden" name="tno" th:value="${tno}" />
					<div class="form-group">
						<label>MBO Title</label>
						<input type="text" class="form-control" name="title" placeholder="Enter Company Name" th:value="${infoMBO?.title}">
					</div>
					<div class="form-group">
						<label>Content</label>
						<textarea id="content" name="content" class="form-control" rows="5" th:text="${infoMBO?.content}"></textarea>
					</div>

					<div class="form-group">
						<label>Reply Type</label> <select class="form-control" name="replyCode">
							<option>--</option>
							<span th:each="book:${bookReply}">
								<option th:selected="${book?.bno}==${infoMBO?.replyCode}" th:value="${book?.bno}">[[${book?.title}]]</option>
							</span>
						</select>
					</div>

					<div class="form-group">
						<label>Weight Type</label> <select class="form-control" name="weightCode">
							<option>--</option>
							<span th:each="book:${bookReply}">
								<option th:selected="${book?.bno}==${infoMBO?.weightCode}" th:value="${book?.bno}">[[${book?.title}]]</option>
							</span>
						</select>
					</div>

					<div class="form-group">
						<label>Status</label>
						<select class="form-control" name="status">
							<option>--</option>
							<option value="setting" th:selected="${infoMBO?.status}=='setting'">설정 중</option>
							<option value="plan" th:selected="${infoMBO?.status}=='plan'">목표 설정</option>
							<option value="do" th:selected="${infoMBO?.status}=='do'">중간 운영</option>
							<option value="see" th:selected="${infoMBO?.status}=='see'">평가 진행</option>
							<option value="count" th:selected="${infoMBO?.status}=='count'">평가 집계</option>
							<option value="inactivation" th:selected="${infoMBO?.status}=='inactivation'">비활성화</option>
						</select>
					</div>
					<!-- period table -->
					<div class="table-responsive">
						<label for="">기간 설정</label>
						<table class="table table-hover table-bordered">
							<thead class="thead-dark">
								<tr>
									<th scope="col">#</th>
									<th scope="col">Start</th>
									<th scope="col">End</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<th scope="row">운영 기간</th>
									<td> <input class="form-control" type="datetime-local" th:value="${infoMBO?.startDate}" name="startDate"></td>
									<td> <input class="form-control" type="datetime-local" th:value="${infoMBO?.endDate}" name="endDate"> </td>
								</tr>
								<tr>
									<th scope="row">Plan(목표설정기간)</th>
									<td> <input class="form-control" type="datetime-local" th:value="${infoMBO?.step1Start}" name="step1Start"></td>
									<td> <input class="form-control" type="datetime-local" th:value="${infoMBO?.step1End}" name="step1End"></td>
								</tr>
								<tr>
									<th scope="row">Do(중간운영기간)</th>
									<td> <input class="form-control" type="datetime-local" th:value="${infoMBO?.step2Start}" name="step2Start"></td>
									<td> <input class="form-control" type="datetime-local" th:value="${infoMBO?.step2End}" name="step2End"></td>
								</tr>
								<tr>
									<th scope="row">See(평가기간)</th>
									<td> <input class="form-control" type="datetime-local" th:value="${infoMBO?.step3Start}" name="step3Start"></td>
									<td> <input class="form-control" type="datetime-local" th:value="${infoMBO?.step3End}" name="step3End"></td>
								</tr>
							</tbody>
						</table>
					</div>
					<!-- ./period table -->

				</fieldset>

				<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">

				<div class="form-group">
					<button type="submit" class="btn btn-primary">Modify</button>
				</div>


			</div>
		</div>
	</div>
	<!-- /.container-fluid -->
	<form id="myForm" th:action="@{modify}" method="get">
		<input type="hidden" name="tno" th:value="${tno}" />
	</form>
</div>



<th:block layout:fragment="script">
	<!-- ckeditor adjust -->
	<script src="https://cdn.ckeditor.com/ckeditor5/12.0.0/classic/ckeditor.js"></script>
	<script th:inline="javascript">
		$(document).ready(function () {
			$('button').on("click", function (e) {
				var formObj = $("#myForm");
				formObj.submit();
			});
		});

	</script>
</th:block>