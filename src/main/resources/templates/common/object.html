<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<!--removed Object List  Modal -->
<div th:fragment="removedObjectList">
    <div class="modal fade" id="removedListModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" th:if="${turn.infoMBO.status}!='plan'">
        <div class="modal-dialog modal-xl" style="height: 100%">
            <div class="modal-content" style="height: 80%">
                <div class="modal-header">
                    <h4 class="modal-title" id="modalTitle">Modify/Remove Object List</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;
                    </button>
                </div>
                <div class="modal-body" id="modalBody" style="overflow-y: scroll; max-height: 80%;">
                    <!-- removed List -->
                    <table class="table" id="removedListTable">
                        <thead class="thead-dark">
                            <th class="text-nowrap" style="width: 5%" scope="col">#</th>
                            <th class="text-nowrap" style="width: 40%" scope="col">목표</th>
                            <th class="text-nowrap" style="width: 40%" scope="col">달성기준</th>
                            <th class="text-nowrap" style="width: 2%" scope="col">비중%</th>
                            <th class="text-nowrap" style="width: 2%" scope="col">최종 변경일</th>
                            <th class="text-nowrap" style="width: 2%" scope="col">댓글</th>
                        </thead>
                        <tbody>
                            <div th:each="object,status:${removedList}">
                                <!-- object -->
                                <tr>
                                    <th name="objectCount" scope="row" style="line-height:150px;">[[${status?.count}]]</th>
                                    <td class="text-left" style="white-space:pre-line">[[${object?.mbo?.object}]]</td>
                                    <td class="text-left" style="white-space:pre-line">[[${object?.mbo?.process}]]</td>
                                    <td class="align-middle">[[${#numbers.formatPercent(object?.mbo?.ratio,0,0)}]]</td>
                                    <!-- 댓글 collapse -->
                                    <td class="align-middle">
                                        [[${#dates.format(object?.mbo?.updateDate, 'yy/MM/dd HH:mm:ss')}]]
                                    </td>
                                    <td class="align-middle text-middle">
                                        <button class="btn btn-default btn-lg" data-toggle="collapse" th:href="'#collapse' +${object?.mbo?.mno}" role="button" aria-expanded="false" aria-controls="collapseExample">
                                            <i class="fas fa-comments"></i>
                                            <small class="badge badge-pill badge-danger" name="replyNum">
                                                [[${object?.replyNum}]]
                                            </small> 
                                        </button>
                                    </td>
                                </tr>
                                <!-- ./object -->
                                <!-- reply -->
                                <tr th:each="reply:${replyList}" th:if="${reply.mno}==${object?.mbo?.mno}" class="collapse" th:id="collapse+${object?.mbo?.mno}">
                                    <td>
                                        <div class="collapse" th:id="collapse+${object?.mbo?.mno}">
                                            <i class="fas fa-comment-dots fa-flip-horizontal"></i>
                                        </div>
                                    </td>
                                    <td th:colspan="${turn.infoMBO.status}!='see'?'4':'6'" class="text-left">
                                        <div class="collapse" th:id="collapse+${object?.mbo?.mno}">
                                            [[${reply.rno}]]
                                            [[${reply?.comment}]]
                                            <!-- 본인이면 아이디 안 붙도록 -->
                                            <div class="float-right">[[${reply.updateId}]] - [[${#dates.format(reply.updateDate, 'yy/MM/dd HH:mm')}]]</div>
                                        </div>
                                    </td>
                                </tr>
                                <!-- ./reply -->
                            </div>
                        </tbody>
                    </table>
                    <!-- ./removed List -->
                </div>
                <div class="modal-footer">
                    <button id="modalCloseBtn" type="button" class="btn btn-default border">Close</button>
                </div>

            </div>
        </div>
    </div>
    <!-- Modal -->
</div>
<!--removed Object List  Modal -->

<!-- content 과거 기록 보기 라디오 버튼 때문에 면담 기록보는 전용 모달 따로 만듬-->
<div th:fragment="content">
        <!-- Modal -->
        <div class="modal fade" id="contentModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalTitle">Title</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;
                        </button>
                    </div>
                    <div class="modal-body" id="modalBody">
                        <div class="form-group" id="content1">
                            <label class="modal-label" id="modalLabel1">Content1</label>
                            <input class="form-control" name="modalContent1" value="New Content">
                        </div>
                        <div class="form-group" id="content2">
                            <label class="modal-label" id="modalLabel2">Content2</label>
                            <textarea class="form-control" name="modalContent2" rows="15"></textarea>
                        </div>
                        <div class="form-group mt-3" th:with="step=${turn.infoMBO.status}">
                            <div class="custom-control custom-radio custom-control-inline" th:if="${step}!='plan'" >
                                <input type="radio" id="customRadioInline1" name="modalContent3" class="custom-control-input" th:checked="${step}=='plan'" value="plan">
                                <label class="custom-control-label" for="customRadioInline1">STEP1 PLAN</label>
                            </div>
                            <div class="custom-control custom-radio custom-control-inline" th:if="${step}=='do' OR ${step}=='see'">
                                <input type="radio" id="customRadioInline2" name="modalContent3" class="custom-control-input" th:checked="${step}=='do'" value="do">
                                <label class="custom-control-label" for="customRadioInline2">STEP2 DO</label>
                            </div>
                            <div class="custom-control custom-radio custom-control-inline" th:if="${step}=='see'">
                                <input type="radio" id="customRadioInline3" name="modalContent3" class="custom-control-input" th:checked="${step}=='see'" value="see">
                                <label class="custom-control-label" for="customRadioInline3">STEP3 SEE</label>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="modalModifyBtn" type="button" class="btn btn-warning">Modify</button>
                        <button id="modalRemoveBtn" type="button" class="btn btn-danger">Remove</button>
                        <button id="modalRegisterBtn" type="button" class="btn btn-primary">Register</button>
                        <button id="modalCloseBtn" type="button" class="btn btn-default border">Close</button>
                    </div>
    
                </div>
            </div>
        </div>
        <!-- Modal -->
    </div>
    <!--./content -->

</html>